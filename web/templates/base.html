{{define "base"}}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/css/base.css">
    <link rel="icon" type="image/x-icon" href="/assets/icons/logo.png">
    {{template "style"}}
    <title>{{template "title"}}</title>
</head>

<body>
    <header>
        <a href="/">
            <div class="logo">
                <img src="/assets/icons/logo.png" alt="Logo">
            </div>
        </a>
        <nav class="top-bar " id="login">
            <a href="/login" class="active" >Login</a>
            <a href="/register" class="" id="register">Signup</a>
        </nav>
        <nav class="top-bar"  id="logout" >
            <a href="/" class="active" >Logout</a>
        </nav>
    </header>
    {{template "body" .}}
    <script type="module">
    import { logoutEvent } from "/assets/js/script.js";

        const loginNav = document.getElementById('login');
        const logoutNav = document.getElementById('logout');

        if (document.cookie.includes('session_token')) {
            loginNav.style.display = "none";
            logoutNav.style.display = "block";
            logoutEvent(logoutNav);
        } else {
            loginNav.style.display = "block";
            logoutNav.style.display = "none";
        } 
    </script>
    {{template "script" .}}
</body>

</html>
{{end}}